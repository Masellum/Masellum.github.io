

<!DOCTYPE html>
<html lang="zh-CN" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><title>[NOIP2011] 选择客栈 - Mas&#39;s Blog</title>
<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="author" content="Masellum Guo">
<meta name="description" content=" ">
<meta name="keywords" content="">

<link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml">

    <meta charset="utf-8">
    <meta name="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="telephone=no" name="format-detection">
    <meta name="renderer" content="webkit">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/journal.css?68455249">
<script src="/js/loadCSS.js"></script>
<script>
    loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Material+Icons");
    (function (d) {
        var config = {
                kitId: 'dwg1tuc',
                scriptTimeout: 3000,
                async: true
            },
            h = d.documentElement, t = setTimeout(function () {
                h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
            }, config.scriptTimeout), tk = d.createElement("script"), f = false,
            s = d.getElementsByTagName("script")[0], a;
        h.className += " wf-loading";
        tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
        tk.async = true;
        tk.onload = tk.onreadystatechange = function () {
            a = this.readyState;
            if (f || a && a != "complete" && a != "loaded") return;
            f = true;
            clearTimeout(t);
            try {
                Typekit.load(config)
            } catch (e) {
            }
        };
        s.parentNode.insertBefore(tk, s)
    })(document);
</script>
<noscript>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Lora|Montserrat|Anonymous+Pro:400|Material+Icons"/>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script><!-- hexo-inject:begin --><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css'><!-- hexo-inject:end -->

</head>
<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="top"></div>
<div id="app">
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            <a class="a-block drawer-menu-item false" href="https://blog.masellum.me">
                首页
            </a>
            <a class="a-block drawer-menu-item false" href="/archives">
                归档
            </a>

            
            
            <a class="a-block drawer-menu-item false" href="/about.html">
                关于
            </a>
            
            <a class="a-block drawer-menu-item false" href="/links.html">
                朋友们
            </a>
            

            
            <a class="a-block drawer-menu-item" href="/atom.xml">
                RSS
            </a>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="/">
            Mas&#39;s Blog
        </a>
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="/">
        <div class="single-column-header-title">Mas&#39;s Blog</div>
        <div class="single-column-header-subtitle">Masellum 的生活日志</div>
    </a>
</div>
<div ref="sideContainer" class="side-container">
    <a class="a-block nav-head false" href="/">
        <div class="nav-title">
            Mas's Blog
        </div>
        <div class="nav-subtitle">
            Masellum 的生活日志
        </div>
    </a>

    <div class="nav-link-list">
        <a class="a-block no-tint nav-link-item false" href="/archives">
            归档
        </a>

        
        
        <a class="a-block nav-link-item false" href="/about.html">
            关于
        </a>
        
        <a class="a-block nav-link-item false" href="/links.html">
            朋友们
        </a>
        

        
        <a class="a-block no-tint nav-link-item" href="/atom.xml">
            RSS
        </a>
        
    </div>

    
    <div class="nav-footer">
        Proudly published with Hexo<br>
        
        Theme <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> by <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a><br>
        
        &copy; 2019 <a href="https://blog.masellum.me">Mas&#39;s Blog</a>
    </div>
</div>
<div ref="extraContainer" class="extra-container">
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>

        
    </div>
</div>

<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            <div class="post-head-wrapper-text-only"
                 style="background-image: url('')">
                <div class="post-title">
                    [NOIP2011] 选择客栈
                    <div class="post-meta">
                        <time datetime="2018-08-24T12:55:44.000Z" itemprop="datePublished">
                            2018-08-24 20:55
                        </time>&nbsp;
                        
                        
                        <i class="material-icons" style="">folder</i>
                        
                        <a href='/categories/题解/'>题解</a>
                        
                        
    
                        
                        
                        <i class="material-icons" style="">label</i>
                        
                        <a href='/tags/递推/'>递推</a>
                        
                        
                    </div>
                </div>
            </div>
    
            <div class="post-body-wrapper">
                <div class="post-body">
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" integrity="sha384-9tPv11A+glH/on/wEu99NVwDPwkMQESOocs/ZGXPoIiLE8MU/qkqUcZ3zzL+6DuH" crossorigin="anonymous"><h1 id="&#x9898;&#x76EE;">&#x9898;&#x76EE;</h1>
<p><a href="https://www.luogu.org/problemnew/show/P1311" target="_blank" rel="noopener">&#x9898;&#x76EE;&#x94FE;&#x63A5;</a></p>
<h2 id="&#x9898;&#x76EE;&#x63CF;&#x8FF0;">&#x9898;&#x76EE;&#x63CF;&#x8FF0;</h2>
<p>&#x4E3D;&#x6C5F;&#x6CB3;&#x8FB9;&#x6709; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> &#x5BB6;&#x5F88;&#x6709;&#x7279;&#x8272;&#x7684;&#x5BA2;&#x6808;&#xFF0C;&#x5BA2;&#x6808;&#x6309;&#x7167;&#x5176;&#x4F4D;&#x7F6E;&#x987A;&#x5E8F;&#x4ECE; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> &#x5230; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> &#x7F16;&#x53F7;&#x3002;&#x6BCF;&#x5BB6;&#x5BA2;&#x6808;&#x90FD;&#x6309;&#x7167;&#x67D0;&#x4E00;&#x79CD;&#x8272;&#x8C03;&#x8FDB;&#x884C;&#x88C5;&#x9970;&#xFF08;&#x603B;&#x5171; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> &#x79CD;&#xFF0C;&#x7528;&#x6574;&#x6570; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&#x2026;</mo><mi>k</mi><mo>&#x2212;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \ldots k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">&#x2026;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> &#x8868;&#x793A;&#xFF09;&#xFF0C;&#x4E14;&#x6BCF;&#x5BB6;&#x5BA2;&#x6808;&#x90FD;&#x8BBE;&#x6709;&#x4E00;&#x5BB6;&#x5496;&#x5561;&#x5E97;&#xFF0C;&#x6BCF;&#x5BB6;&#x5496;&#x5561;&#x5E97;&#x5747;&#x6709;&#x5404;&#x81EA;&#x7684;&#x6700;&#x4F4E;&#x6D88;&#x8D39;&#x3002;</p>
<p>&#x4E24;&#x4F4D;&#x6E38;&#x5BA2;&#x4E00;&#x8D77;&#x53BB;&#x4E3D;&#x6C5F;&#x65C5;&#x6E38;&#xFF0C;&#x4ED6;&#x4EEC;&#x559C;&#x6B22;&#x76F8;&#x540C;&#x7684;&#x8272;&#x8C03;&#xFF0C;&#x53C8;&#x60F3;&#x5C1D;&#x8BD5;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6808;&#xFF0C;&#x56E0;&#x6B64;&#x51B3;&#x5B9A;&#x5206;&#x522B;&#x4F4F;&#x5728;&#x8272;&#x8C03;&#x76F8;&#x540C;&#x7684;&#x4E24;&#x5BB6;&#x5BA2;&#x6808;&#x4E2D;&#x3002;&#x665A;&#x4E0A;&#xFF0C;&#x4ED6;&#x4EEC;&#x6253;&#x7B97;&#x9009;&#x62E9;&#x4E00;&#x5BB6;&#x5496;&#x5561;&#x5E97;&#x559D;&#x5496;&#x5561;&#xFF0C;&#x8981;&#x6C42;&#x5496;&#x5561;&#x5E97;&#x4F4D;&#x4E8E;&#x4E24;&#x4EBA;&#x4F4F;&#x7684;&#x4E24;&#x5BB6;&#x5BA2;&#x6808;&#x4E4B;&#x95F4;&#xFF08;&#x5305;&#x62EC;&#x4ED6;&#x4EEC;&#x4F4F;&#x7684;&#x5BA2;&#x6808;&#xFF09;&#xFF0C;&#x4E14;&#x5496;&#x5561;&#x5E97;&#x7684;&#x6700;&#x4F4E;&#x6D88;&#x8D39;&#x4E0D;&#x8D85;&#x8FC7; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span>&#x3002;</p>
<p>&#x4ED6;&#x4EEC;&#x60F3;&#x77E5;&#x9053;&#x603B;&#x5171;&#x6709;&#x591A;&#x5C11;&#x79CD;&#x9009;&#x62E9;&#x4F4F;&#x5BBF;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x4FDD;&#x8BC1;&#x665A;&#x4E0A;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x4E00;&#x5BB6;&#x6700;&#x4F4E;&#x6D88;&#x8D39;&#x4E0D;&#x8D85;&#x8FC7; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> &#x5143;&#x7684;&#x5496;&#x5561;&#x5E97;&#x5C0F;&#x805A;&#x3002;</p>
<h2 id="&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x683C;&#x5F0F;">&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x683C;&#x5F0F;</h2>
<h3 id="&#x8F93;&#x5165;&#x683C;&#x5F0F;">&#x8F93;&#x5165;&#x683C;&#x5F0F;</h3>
<p>&#x5171; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> &#x884C;&#x3002;</p>
<p>&#x7B2C;&#x4E00;&#x884C;&#x4E09;&#x4E2A;&#x6574;&#x6570; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>k</mi><mo separator="true">,</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">n ,k ,p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span></span></span></span>&#xFF0C; &#x6BCF;&#x4E24;&#x4E2A;&#x6574;&#x6570;&#x4E4B;&#x95F4;&#x7528;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#xFF0C;&#x5206;&#x522B;&#x8868;&#x793A;&#x5BA2;&#x6808;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x8272;&#x8C03;&#x7684;&#x6570;&#x76EE;&#x548C;&#x80FD;&#x63A5;&#x53D7;&#x7684;&#x6700;&#x4F4E;&#x6D88;&#x8D39;&#x7684;&#x6700;&#x9AD8;&#x503C;&#xFF1B;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x7684; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> &#x884C;&#xFF0C;&#x7B2C; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> &#x884C;&#x4E24;&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x4E4B;&#x95F4;&#x7528;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#xFF0C;&#x5206;&#x522B;&#x8868;&#x793A; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> &#x53F7;&#x5BA2;&#x6808;&#x7684;&#x88C5;&#x9970;&#x8272;&#x8C03;&#x548C; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> &#x53F7;&#x5BA2;&#x6808;&#x7684;&#x5496;&#x5561;&#x5E97;&#x7684;&#x6700;&#x4F4E;&#x6D88;&#x8D39;&#x3002;</p>
<h3 id="&#x8F93;&#x51FA;&#x683C;&#x5F0F;">&#x8F93;&#x51FA;&#x683C;&#x5F0F;</h3>
<p>&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x8868;&#x793A;&#x53EF;&#x9009;&#x7684;&#x4F4F;&#x5BBF;&#x65B9;&#x6848;&#x7684;&#x603B;&#x6570;&#x3002;</p>
<h2 id="&#x8BF4;&#x660E;">&#x8BF4;&#x660E;</h2>
<p>&#x5BF9;&#x4E8E; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>30</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">30\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">%</span></span></span></span> &#x7684;&#x6570;&#x636E;&#xFF0C;&#x6709; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>&#x2264;</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">n \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>&#xFF1B;</p>
<p>&#x5BF9;&#x4E8E; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>50</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">50\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">%</span></span></span></span> &#x7684;&#x6570;&#x636E;&#xFF0C;&#x6709; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>&#x2264;</mo><mn>1</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">n \le 1,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>&#xFF1B;</p>
<p>&#x5BF9;&#x4E8E; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> &#x7684;&#x6570;&#x636E;&#xFF0C;&#x6709; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>&#x2264;</mo><mi>n</mi><mo>&#x2264;</mo><mn>200</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>0</mn><mo>&lt;</mo><mi>k</mi><mo>&#x2264;</mo><mn>50</mn><mo separator="true">,</mo><mn>0</mn><mo>&#x2264;</mo><mi>p</mi><mo>&#x2264;</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">2 \le n \le 200,000, 0 &lt; k \le 50, 0 \le p \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2264;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>&#xFF0C; &#x6700;&#x4F4E;&#x6D88;&#x8D39;&#x7684;&#x8303;&#x56F4;&#x4E0E; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> &#x7684;&#x8303;&#x56F4;&#x76F8;&#x540C;&#x3002;</p>
<h1 id="&#x9898;&#x89E3;">&#x9898;&#x89E3;</h1>
<p>&#x6700;&#x66B4;&#x529B;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x4E09;&#x91CD;&#x679A;&#x4E3E;&#xFF0C;&#x6BCF;&#x6B21;&#x679A;&#x4E3E;&#x7B2C;&#x4E00;&#x4E2A;&#x5BA2;&#x6808;&#x7684;&#x4F4D;&#x7F6E;&#x3001;&#x7B2C;&#x4E8C;&#x4E2A;&#x5BA2;&#x6808;&#x7684;&#x4F4D;&#x7F6E;&#x3001;&#x4E2D;&#x95F4;&#x7684;&#x5496;&#x5561;&#x9986;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x663E;&#x7136;&#x4F1A;&#x7206;&#xFF0C;&#x4E8E;&#x662F;&#x8003;&#x8651;&#x4F18;&#x5316;&#x3002;&#x6211;&#x4EEC;&#x60F3;&#x5230;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x786E;&#x5B9A;&#x7B2C;&#x4E8C;&#x4E2A;&#x5BA2;&#x6808;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x5269;&#x4E0B;&#x7684;&#x4E24;&#x4E2A;&#x4FE1;&#x606F;&#x90FD;&#x53EA;&#x4E0E;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x4E4B;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x7684;&#x4FE1;&#x606F;&#x6709;&#x5173;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x679A;&#x4E3E;&#x7B2C;&#x4E8C;&#x4E2A;&#x5BA2;&#x6808;&#x7684;&#x4F4D;&#x7F6E;&#x8FDB;&#x884C;&#x9012;&#x63A8;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x7EF4;&#x62A4; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="normal">l</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">t</mi></mrow><mo stretchy="false">[</mo><mi mathvariant="normal">i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\rm{last}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">l</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">t</span></span><span class="mopen">[</span><span class="mord mathrm">i</span><span class="mclose">]</span></span></span></span></span> &#x8868;&#x793A; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> &#x8FD9;&#x79CD;&#x989C;&#x8272;&#x4E0A;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">t</mi></mrow><mo stretchy="false">[</mo><mi mathvariant="normal">i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\rm{count}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">c</span><span class="mord mathrm">o</span><span class="mord mathrm">u</span><span class="mord mathrm">n</span><span class="mord mathrm">t</span></span><span class="mopen">[</span><span class="mord mathrm">i</span><span class="mclose">]</span></span></span></span></span> &#x8868;&#x793A; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> &#x8FD9;&#x79CD;&#x989C;&#x8272;&#x5DF2;&#x7ECF;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF0C;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><annotation encoding="application/x-tex">\rm{now}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">o</span><span class="mord mathrm" style="margin-right:0.01389em;">w</span></span></span></span></span></span> &#x8868;&#x793A;&#x8DDD;&#x79BB;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x6700;&#x8FD1;&#x7684;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x7684;&#x5496;&#x5561;&#x5E97;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x6BCF;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x4F4D;&#x7F6E;&#x4EE5;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x5148;&#x66F4;&#x65B0; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><annotation encoding="application/x-tex">\rm{now}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">o</span><span class="mord mathrm" style="margin-right:0.01389em;">w</span></span></span></span></span></span>&#xFF1B;&#x5982;&#x679C;&#x5F53;&#x524D;&#x8FD9;&#x79CD;&#x989C;&#x8272;&#x4E0A;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x4F4D;&#x7F6E;&#x6BD4; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><annotation encoding="application/x-tex">\rm{now}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">o</span><span class="mord mathrm" style="margin-right:0.01389em;">w</span></span></span></span></span></span> &#x66F4;&#x9760;&#x524D;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x524D;&#x8FD9;&#x79CD;&#x989C;&#x8272;&#x5DF2;&#x7ECF;&#x627E;&#x5230;&#x7684;&#x65B9;&#x6848;&#x6570;&#x5C31;&#x53EF;&#x4EE5;&#x88AB;&#x66F4;&#x65B0;&#x4E3A;&#x8FD9;&#x79CD;&#x989C;&#x8272;&#x5DF2;&#x7ECF;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x6BD4; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><annotation encoding="application/x-tex">\rm{now}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">o</span><span class="mord mathrm" style="margin-right:0.01389em;">w</span></span></span></span></span></span> &#x66F4;&#x9760;&#x524D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8FD9;&#x6B21;&#x8FD9;&#x79CD;&#x989C;&#x8272;&#x5BF9;&#x7B54;&#x6848;&#x7684;&#x8D21;&#x732E;&#x548C;&#x4E0A;&#x4E00;&#x6B21;&#x8FD9;&#x79CD;&#x989C;&#x8272;&#x5BF9;&#x7B54;&#x6848;&#x7684;&#x8D21;&#x732E;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x66F4;&#x65B0;&#x3002;&#x7136;&#x540E;&#x7EF4;&#x62A4; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="normal">l</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">t</mi></mrow><mo stretchy="false">[</mo><mi mathvariant="normal">i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\rm{last}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">l</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">t</span></span><span class="mopen">[</span><span class="mord mathrm">i</span><span class="mclose">]</span></span></span></span></span> &#x4E0E; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">t</mi></mrow><mo stretchy="false">[</mo><mi mathvariant="normal">i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\rm{count}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">c</span><span class="mord mathrm">o</span><span class="mord mathrm">u</span><span class="mord mathrm">n</span><span class="mord mathrm">t</span></span><span class="mopen">[</span><span class="mord mathrm">i</span><span class="mclose">]</span></span></span></span></span>&#xFF0C; &#x66F4;&#x65B0;&#x7B54;&#x6848;&#x3002;</p>
<h1 id="&#x4EE3;&#x7801;">&#x4EE3;&#x7801;</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="pp">#include </span><span class="im">&lt;cstdio&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="at">const</span> <span class="dt">int</span> MAXK = <span class="dv">50</span> + <span class="dv">1</span>;</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="dt">int</span> lastAppearance[MAXK], countOfColors[MAXK], countOfSolutions[MAXK], lastAvailable, ans;</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="dt">int</span> n, k, p;</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="dt">int</span> main() {</span>
<span id="cb1-11"><a href="#cb1-11"></a>    scanf(<span class="st">&quot;</span><span class="sc">%d</span><span class="st"> </span><span class="sc">%d</span><span class="st"> </span><span class="sc">%d</span><span class="st">&quot;</span>, &amp;n, &amp;k, &amp;p);</span>
<span id="cb1-12"><a href="#cb1-12"></a>    <span class="dt">int</span> color, cost;</span>
<span id="cb1-13"><a href="#cb1-13"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>; i &lt;= n; ++i) {</span>
<span id="cb1-14"><a href="#cb1-14"></a>        scanf(<span class="st">&quot;</span><span class="sc">%d</span><span class="st"> </span><span class="sc">%d</span><span class="st">&quot;</span>, &amp;color, &amp;cost);</span>
<span id="cb1-15"><a href="#cb1-15"></a>        <span class="cf">if</span> (cost &lt;= p) {</span>
<span id="cb1-16"><a href="#cb1-16"></a>            lastAvailable = i;</span>
<span id="cb1-17"><a href="#cb1-17"></a>        }</span>
<span id="cb1-18"><a href="#cb1-18"></a>        <span class="cf">if</span> (lastAvailable &gt;= lastAppearance[color]) {</span>
<span id="cb1-19"><a href="#cb1-19"></a>            countOfSolutions[color] = countOfColors[color];</span>
<span id="cb1-20"><a href="#cb1-20"></a>        }</span>
<span id="cb1-21"><a href="#cb1-21"></a>        lastAppearance[color] = i;</span>
<span id="cb1-22"><a href="#cb1-22"></a>        ans += countOfSolutions[color];</span>
<span id="cb1-23"><a href="#cb1-23"></a>        countOfColors[color]++;</span>
<span id="cb1-24"><a href="#cb1-24"></a>    }</span>
<span id="cb1-25"><a href="#cb1-25"></a>    printf(<span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span>, ans);</span>
<span id="cb1-26"><a href="#cb1-26"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-27"><a href="#cb1-27"></a>}</span></code></pre></div>
<p>Finita la comedia.</p>

                </div>
            </div>
    
            <nav class="post-pagination">
    
    <a class="newer-posts" href="/2018/09/Number-Theory-Note/">
        上一篇<br>数论学习笔记
    </a>
    
    <span class="page-number"></span>
    
    <a class="older-posts" href="/2018/08/NOIP2010-DivertWaterIntoTheCity/">
        下一篇<br>[NOIP2010] 引水入城
    </a>
    
</nav>

    
            

<div class="post-comment-wrapper">
    <div id="disqus_thread"></div>
</div>


        </div>
    </div>
    <div class="single-column-footer">
    Proudly published with Hexo<br>
    
    Theme <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> by <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a><br>
    
    &copy; 2018 <a href="https://blog.masellum.me">Mas&#39;s Blog</a>
</div>
</div>

</div>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"
        integrity="sha256-EGs9T1xMHdvM1geM8jPpoo8EZ1V1VRsmcJz8OByENLA=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js"
        integrity="sha256-FtWfRI+thWlNz2sB3SJbwKx5PgMyKIVgwHCTwa3biXc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@14.2.1/dist/smooth-scroll.polyfills.min.js"
        integrity="sha256-CI4Gq5E0io1Pv0xM3qPM+NUIOhbIBvC3GiN1Y4KhXpw=" crossorigin="anonymous"></script>
<script src="/js/journal.js?79205335"></script>


<script>
    var disqus_shortname = 'masellum-blog';
    var disqus_config = function () {
        this.page.url = 'https://blog.masellum.me/2018/08/NOIP2011-ChooseHotel/';
        this.page.identifier = '/2018/08/NOIP2011-ChooseHotel/';
    };
    (function () {
        var d = document, s = d.createElement('script');
        s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.body || d.head).appendChild(s);
    })();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
</html>
